# CodeUnity Office Managment Bot for Telegram

## User guide

**Commands description:**

1. ğŸ‘¤ All Users.
   Gives list of all employees with online status.
2. âœ… Online Users
   Gives list of online users.
3. ğŸ¤Ÿ My Days Off
   Gives user's ammount of days off.
4. ğŸ†” Get my chat id
   Gives user's chat id. User should add it in portal profile, to link portal informaiton with chat bot.
5. ğŸ‘œ Grocery
   Gives possibility to notify managers about lack of anything in office.
6. ğŸ‘ Ordered
   Click this button after needed product is bougth or ordered. It also will notify person who asked for povission.

## Developer guide

**NODE version** (_node -v_): 14.17.0

### Setup toutorial

1. Clone the [GitHub repository](https://github.com/Yevhenii2/cu_tg_bot "GitHub repository").

```bash
#SSH
git clone git@github.com:Yevhenii2/cu_tg_bot.git
# or HTTPS
git clone https://github.com/Yevhenii2/cu_tg_bot.git
```

2. Change you _[NodeJS](https://nodejs.org/ "NodeJS")_ version to **14.17.0** via _[NVM](https://github.com/nvm-sh/nvm "NVM")_.

```bash
nvm install 14.17.0
nvm use 14.17.0
node -v
# Output: v14.17.0
```

3. Enter the project directory and install all the packages.

```bash
npm install
```

4. Create file called `.env` using file `.env.example` as ~~_(what?)_~~ an example.
5. Make sure that Knex.js ( [npm](https://www.npmjs.com/package/knex "npm") | [documentation](https://knexjs.org/ "documentation") ) is installed globaly.

```bash
knex -V
# Output: Knex CLI version: 1.0.1
# Output: Knex Local version: 0.14.6
```

If not, install it using _NPM_.

```bash
npm install knex -g
```

Relaunch the terminal and check you knex version once again.

6. Come back to your project directory. Run migrations to create tables in your database.

```bash
npm run migrate
```

7. As migrations were done, you can strart the project.

```bash
npm run start
```

### Files description

âˆŸğŸ“ **dataServices** _# Consists files for data manipulations._
âˆŸğŸ“ **migrations** _# Consists migrations files generated by knex migrate:make._
âˆŸğŸ–¹ **.env** _# Should be created by developer from .env.example._
âˆŸğŸ–¹ **constants.js** _# Holds all the project's constants._
âˆŸğŸ–¹ **index.js** _# Main executing file._
âˆŸğŸ–¹ **knexfile.js** _# Exports knex configurations._
âˆŸğŸ–¹ **logger.js** _# Exports logger instance._
âˆŸğŸ–¹ **messages.log** _# Holds all the logs. Created by logger automaticaly._
âˆŸğŸ–¹ **responseCallbacks.js** _# Most of all the bot's logic is here._
âˆŸğŸ–¹ **tools.js** _# Exports helper functions._
